<!DOCTYPE HTML>
<head>
	<title>Administracion de usuarios</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="css/bootstrap.min.css" />
	<link rel="stylesheet" href="css/bootstrap-theme.min.css" />
	<link rel="stylesheet" href="abm.css" />
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="abm.js"></script>
</head>

<body onload="initUI()">
	<nav id="tabBox">
		<ul class="nav nav-tabs">
			<li class="active"><a id="personasTabButton" class="glyphicon glyphicon-user" onclick="ui.activateTab('personas')" data-toggle="tab">Personas</a>
			<li><a id="usuariosTabButton" class="glyphicon glyphicon-user" onclick="ui.activateTab('usuarios')" data-toggle="tab">Usuarios</a>
			<li><a id="rolesTabButton" class="glyphicon glyphicon-knight" onclick="ui.activateTab('roles')" data-toggle="tab">Roles</a>
			<li><a id="permisosTabButton" class="glyphicon glyphicon-check" onclick="ui.activateTab('permisos')" data-toggle="tab">Permisos</a>
		</ul>
	</nav>
	<section class="tabSection" id="personasTab">
		<table id="personasTable" caption="Administrar personas">
			<thead><tr>
				<th>ID</th>
				<th>Apellido</th>
				<th>Nombres</th>
				<th>Tipo Doc.</th>
				<th>Nro. Doc.</th>
				<th>Fecha nacimiento</th>
				<th>Sexo</th>
				<th>Domicilio</th>
				<th>Telefono</th>
				<th>Estado</th>
			</tr></thead>
			<tbody>
			</tbody>
		</table>
	</section>

	<section class="tabSection" id="usuariosTab">
		<table id="usuariosTable">
			<thead><tr>
				<th>ID</th>
				<th>Nombre usuario</th>
				<th>E-Mail</th>
				<th>Estado</th>
			</tr></thead>
			<tbody>
			</tbody>
		</table>
	</section>

	<section class="tabSection" id="rolesTab">
		<table id="rolesTable">
			<thead><tr>
				<th>ID</th>
				<th>Nombre Rol</th>
				<th>Nombre amigable</th>
				<th>Estado</th>
			</tr></thead>
			<tbody>
			</tbody>
		</table>
	</section>

	<section class="tabSection" id="permisosTab">
		<table id="permisosTable">
			<thead><tr>
				<th>ID</th>
				<th>Nombre Permiso</th>
				<th>Estado</th>
			</tr></thead>
			<tbody>
			</tbody>
		</table>


	</section>
	<div class="buttonBox">
		<button type="button" id="deleteButton" class="glyphicon glyphicon-trash btn-danger" onclick="ui.deleteButtonPressed()">Eliminar</button>
		<button type="button" id="editButton" class="glyphicon glyphicon-edit btn-primary" onclick="ui.editButtonPressed()">Modificar</button>
		<button type="button" id="rolesButton" class="glyphicon glyphicon-knight btn-primary" onclick="ui.rolesButtonPressed()">Roles</button>
		<button type="button" id="permisosButton" class="glyphicon glyphicon-check btn-primary" onclick="ui.permisosButtonPressed()">Permisos</button>
		<button type="button" id="newButton" class="glyphicon glyphicon-plus btn-success" onclick="ui.newButtonPressed()">Agregar</button>
		&nbsp;&nbsp;&nbsp;&nbsp;
	</div>

	<div id="modalPersona" class="modal fade"><div class="modal-dialog"><div class="modal-content">
	<section class="formSection" id="formPersona">
		<button type="button" class="close" onclick="ui.closeForms()">Cerrar</button>
		<h2 id="formPersonaTitle">Persona</h2>
		<form>
			<!-- Las fotos no estan habilitadas todavia -->
			<input type="hidden" name="foto" value="">
			<input type="hidden" name="foto_registro" value="">
			<label for="id" id="personaIdLabel">ID</label><input type="number" disabled name="id"><br />
			<label for="apellidos">Apellido</label><input type="text" name="apellidos"><br />
			<label for="nombres">Nombre</label><input type="text" name="nombres"><br />
			<label for="tipo_doc">Tipo de documento</label>
				<select name="tipo_doc">
					<option value="1">DNI</option>
					<option value="2">LE</option>
					<option value="3">LC</option>
				</select><br />
			<label for="nro_doc">Numero de documento</label>
			<input type="number" name="nro_doc"><br />
			<label for="fecha_nacimiento">Fecha de nacimiento</label>
			<input type="date" name="fecha_nacimiento"><br />
			<label for="domicilio">Domicilio</label>
			<input type="text" name="domicilio"><br />
			<select name="sexo">
				<option value="M">Masculino</option>
				<option value="F">Femenino</option>
				<option value="O">Otro</option>
			</select><br />
			<label for="telefono">Telefono</label>
			<input type="text"  name="telefono"><br />
			<label for="descripcion">Descripcion</label>
			<textarea  name="descripcion"></textarea><br />
			<label for="Estado">Estado</label>
			<select name="estado">
				<option value="A">Activo</option>
				<option value="B">Inactivo</option>
			</select><br />
			<button type="button" class="saveButton" onclick="ui.sendPersonaForm()">Guardar</button>
		</form>
	</section>
	</div></div></div>

	<div id="modalUsuario" class="modal fade"><div class="modal-dialog"><div class="modal-content">
	<section class="formSection" id="formUsuario">
		<button type="button" class="close" onclick="ui.closeForms()">Cerrar</button>
		<h2>Usuario</h2>
		<form name="usuario">
			<label for="id">ID</label>
			<input type="number" id="usuarioIdInput" name="id"><br />
			<label for="id_persona">Persona</label>
			<select name="id_persona">
			</select>
			<br />
			<label for="nombre_usuario">Nombre de Usuario</label>
			<input type="text" name="nombre_usuario"><br />
			<label for="password">Contraseña</label>
			<input type="password" name="password"><br />
			<label for="email">E-Mail</label>
			<input type="text" name="email"><br />
			<label for="descripcion">Descripcion</label>
			<textarea name="descripcion" ></textarea><br />
			<label for="estado">Activo</label>
			<select name="estado">
				<option value="A">Activo</option>
				<option value="B">Inactivo</option>
				<option value="S">Suspendido</option>
			</select><br />
			<button type="button" onclick="ui.rolesButtonPressed()">Gestionar roles</button>
			<button type="button" class="saveButton" onclick="ui.sendUsuarioForm()">Guardar</button>
		</form>
	</section>
	</div></div/></div>

	<div id="modalUsuarioRol" class="modal fade"><div class="modal-dialog"><div class="modal-content">
	<section class="formSection" id="formUsuarioRol">
		<button type="button" class="close" onclick="ui.closeForms()">Cerrar</button>
		<h2>Roles del usuario</h2>
		<form>
			<h3>NOMBRE DE USUARIO</h3><!-- Sera modificado desde javascript -->
			<input type="hidden" name="id_usuario" value="">
			<select size="6" name="roles_asignados">
			</select>
			<div class="verticalButtonBox">
				<button type="button" onclick="ui.assignRolUsuario()">← Asignar</button>
				<button type="button" onclick="ui.removeRolUsuario()" >Quitar →</button>
			</div>
			<select size="6" name="roles_no_asignados">
			</select>
		</form>
	</section>
	</div></div/></div>

	<div id="modalRol" class="modal fade"><div class="modal-dialog"><div class="modal-content">
	<section class="formSection" id="formRol">
		<button type="button" class="close" onclick="ui.closeForms()">Cerrar</button>
		<form>
			<h2>Rol</h2>
			<label for="id">ID</label><input type="number" name="id" disabled><br />
			<label for="nombre_rol">Nombre de Rol</label><input type="text" name="nombre_rol"><br>
			<label for="nombre_amigable">Nombre Amigable</label><input type="text" name="nombre_amigable"><br />
			<label for="descripcion">Descripcion</label>
			<textarea name="descripcion" ></textarea><br />
			<label for="estado">Estado</label>
			<select name="estado">
				<option value="A">Activo</option>
				<option value="B">Inactivo</option>
			</select><br />
			<button type="button" onclick="ui.permisosButtonPressed()">Gestionar permisos</button>
			<button type="button" class="saveButton" onclick="ui.sendRolForm()">Guardar</button>
		</form>

	</section>
	</div></div/></div>

	<div id="modalPermisoRol" class="modal fade"><div class="modal-dialog"><div class="modal-content">
	<section class="formSection" id="formRolPermiso">
		<button type="button" class="close" onclick="ui.closeForms()">Cerrar</button>
		<form>
			<h2>Permisos del rol</h2>
			<h3>NOMBRE DE ROL</h3><!-- Sera modificado desde javascript -->
			<input type="hidden" name="id_rol" value="">
			<select size="6" name="permisos_asignados">
			</select>
			<div class="verticalButtonBox">
				<button type="button" onclick="ui.assignPermisoRol()">← Asignar</button>
				<button type="button" onclick="ui.revokePermisoRol()">Quitar →</button>
			</div>
			<select size="6" name="permisos_no_asignados">
			</select>
		</form>
	</section>
	</div></div/></div>

	<div id="modalPermiso" class="modal fade"><div class="modal-dialog"><div class="modal-content">
	<section class="formSection" id="formPermiso">
	<button type="button" class="close" onclick="ui.closeForms()">Cerrar</button>
		<form>
			<h2>Permiso</h2>
			<label for="id">ID</label>
			<input type="number" name="id"><br />
			<label for="nombre_permiso">Nombre del permiso</label>
			<input type="text" name="nombre_permiso"><br>
			<label for="funcionalidad">Funcionalidad</label>
			<input type="text" name="funcionalidad"><br>
			<label for="descripcion">Descripcion</label>
			<textarea name="descripcion"></textarea><br>
			<label for="estado">Estado</label>
			<select name="estado">
				<option value="A">Activo</option>
				<option value="B">Inactivo</option>
			</select><br />
		<button type="button" class="saveButton" onclick="ui.sendPermisoForm()">Guardar</button>
		</form>
	</section>
	</div></div/></div>
</body>
